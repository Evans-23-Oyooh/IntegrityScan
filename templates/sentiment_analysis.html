{% extends 'base.html' %}
{% block title %}Sentiment Analysis - TextAnalyzer Pro{% endblock %}
{% block content %}

<style>
    .sa-header { margin-bottom: 40px; }
    .sa-header h1 { font-size: 36px; font-weight: 800; color: #1a1a1a; margin-bottom: 8px; }
    .sa-header p { color: #666; font-size: 16px; }
    
    .sa-info-box { background: linear-gradient(135deg, #e6f4ea 0%, #f0fdf4 100%); border-left: 4px solid #10b981; padding: 20px; border-radius: 8px; margin-bottom: 30px; }
    .sa-info-box p { margin: 0; color: #137333; font-size: 14px; }
    
    .sa-container { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 40px; }
    
    .sa-input-section { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
    .sa-input-section h3 { font-size: 18px; font-weight: 600; margin-bottom: 25px; color: #1a1a1a; }
    
    .sa-tabs { display: flex; gap: 10px; margin-bottom: 25px; border-bottom: 2px solid #e5e5e5; }
    .sa-tab { padding: 12px 20px; background: none; border: none; cursor: pointer; font-weight: 600; color: #999; font-size: 14px; transition: all 0.3s; border-bottom: 3px solid transparent; margin-bottom: -2px; }
    .sa-tab.active { color: #10b981; border-bottom-color: #10b981; }
    .sa-tab:hover { color: #10b981; }
    
    .sa-form-group { margin-bottom: 20px; }
    .sa-form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #1a1a1a; font-size: 14px; }
    .sa-form-group textarea { width: 100%; padding: 12px; border: 1px solid #e5e5e5; border-radius: 6px; font-size: 14px; font-family: inherit; resize: vertical; }
    .sa-form-group textarea:focus { outline: none; border-color: #10b981; box-shadow: 0 0 0 3px rgba(16,185,129,0.1); }
    
    .sa-upload-area { border: 2px dashed #e5e5e5; border-radius: 8px; padding: 30px; text-align: center; cursor: pointer; transition: all 0.3s; }
    .sa-upload-area:hover { border-color: #10b981; background: #f9fdf7; }
    .sa-upload-area.dragover { border-color: #10b981; background: #e6f4ea; }
    .sa-upload-area i { font-size: 32px; color: #10b981; margin-bottom: 10px; }
    .sa-upload-area p { margin: 0; color: #666; font-size: 14px; }
    .sa-upload-area input { display: none; }
    
    .sa-btn-analyze { width: 100%; padding: 14px; background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; border: none; border-radius: 8px; font-weight: 600; font-size: 16px; cursor: pointer; transition: all 0.3s; margin-top: 10px; }
    .sa-btn-analyze:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(16,185,129,0.3); }
    
    .sa-features-section { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
    .sa-features-section h3 { font-size: 18px; font-weight: 600; margin-bottom: 20px; color: #1a1a1a; }
    
    .sa-feature-item { display: flex; gap: 12px; margin-bottom: 16px; }
    .sa-feature-item i { font-size: 18px; min-width: 24px; color: #10b981; }
    .sa-feature-item span { font-size: 14px; color: #666; line-height: 1.5; }
    .sa-feature-item strong { color: #1a1a1a; }
    
    @media (max-width: 768px) {
        .sa-container { grid-template-columns: 1fr; }
        .sa-tabs { flex-wrap: wrap; }
    }
</style>

<div class="sa-header">
    <h1>Sentiment Analysis</h1>
    <p>Analyze the emotional tone and sentiment of your text with advanced AI algorithms</p>
</div>

<div class="sa-info-box">
    <p>Detect positive, negative, and neutral sentiments in your text. Perfect for customer feedback analysis, social media monitoring, and content evaluation.</p>
</div>

<div class="sa-container">
    <!-- Input Section -->
    <div class="sa-input-section">
        <h3>Analyze Sentiment</h3>
        
        <div class="sa-tabs">
            <button class="sa-tab active" data-tab="text-tab">Text Input</button>
            <button class="sa-tab" data-tab="file-tab">Upload File</button>
        </div>

        <form method="post" id="sentimentForm" enctype="multipart/form-data">
            {% csrf_token %}

            <!-- Text Tab -->
            <div id="text-tab" class="sa-tab-content">
                <div class="sa-form-group">
                    <label for="text">Enter Text</label>
                    <textarea id="text" name="text" placeholder="Paste your text here..." rows="8"></textarea>
                </div>
            </div>

            <!-- File Tab -->
            <div id="file-tab" class="sa-tab-content" style="display: none;">
                <div class="sa-upload-area" id="uploadArea">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <p>Drag and drop your file here or click to browse</p>
                    <p style="font-size: 12px; color: #999; margin-top: 8px;">Supported: PDF, DOC, DOCX, TXT</p>
                    <input type="file" id="document" name="document" accept=".pdf,.doc,.docx,.txt">
                </div>
            </div>

            <button type="submit" class="sa-btn-analyze">Analyze Sentiment</button>
        </form>
    </div>

    <!-- Features Section -->
    <div class="sa-features-section">
        <h3>Sentiment Analysis Features</h3>
        <div class="sa-feature-item">
            <i class="fas fa-thumbs-up"></i>
            <span><strong>Positive Detection:</strong> Identify optimistic and favorable sentiments</span>
        </div>
        <div class="sa-feature-item">
            <i class="fas fa-thumbs-down"></i>
            <span><strong>Negative Detection:</strong> Recognize critical and negative tones</span>
        </div>
        <div class="sa-feature-item">
            <i class="fas fa-minus-circle"></i>
            <span><strong>Neutral Detection:</strong> Spot objective and factual content</span>
        </div>
        <div class="sa-feature-item">
            <i class="fas fa-chart-bar"></i>
            <span><strong>Confidence Scores:</strong> Get detailed probability metrics</span>
        </div>
        <div class="sa-feature-item">
            <i class="fas fa-file-upload"></i>
            <span><strong>File Support:</strong> Analyze documents directly</span>
        </div>
        <div class="sa-feature-item">
            <i class="fas fa-bolt"></i>
            <span><strong>Instant Results:</strong> Get analysis in seconds</span>
        </div>
    </div>
</div>

<script>
    const tabs = document.querySelectorAll('.sa-tab');
    const tabContents = document.querySelectorAll('.sa-tab-content');
    const uploadArea = document.getElementById('uploadArea');
    const fileInput = document.getElementById('document');
    const textInput = document.getElementById('text');
    const form = document.getElementById('sentimentForm');

    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            tabs.forEach(t => t.classList.remove('active'));
            tabContents.forEach(c => c.style.display = 'none');
            
            tab.classList.add('active');
            document.getElementById(tab.dataset.tab).style.display = 'block';
        });
    });

    uploadArea.addEventListener('click', () => fileInput.click());
    uploadArea.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadArea.classList.add('dragover');
    });
    uploadArea.addEventListener('dragleave', () => uploadArea.classList.remove('dragover'));
    uploadArea.addEventListener('drop', (e) => {
        e.preventDefault();
        uploadArea.classList.remove('dragover');
        fileInput.files = e.dataTransfer.files;
    });

    form.addEventListener('submit', (e) => {
        const activeTab = document.querySelector('.sa-tab.active').dataset.tab;
        if (activeTab === 'text-tab' && !textInput.value.trim()) {
            e.preventDefault();
            alert('Please enter text to analyze');
        } else if (activeTab === 'file-tab' && !fileInput.files.length) {
            e.preventDefault();
            alert('Please select a file to analyze');
        }
    });
</script>

{% endblock %}
